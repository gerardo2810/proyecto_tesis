=========================Configuracion SR-MPLS=====================
https://sg.o3community.huawei.com/sg/en/learning/1783685055601291266
1. Se uniran 3 sities  == 2 CEs
2. Se usaran 8 routers == 4 PE y 2 P
3. Se usara 2 router   =  2 RR                                                                                                                                                                                                                                                                                                                                                                                                                       
-------------------------------
				TOTAL =   10 ROUTERS

Todos los PE-X seran lo1 = X.X.X.10
Todos los P-X seran lo1 = X.X.X.14
Todos los RR-X seran lo1 = X.X.X.27

#################CE-1#########################
system-view
sysname CE-1
#
interface GE0/0/5
 description CE-1 <-> PE-1
 ip address 192.168.1.2 255.255.255.252
 undo shutdown
#
interface GE0/0/6
 description CE-1 <-> PE-2
 ip address 192.168.1.6 255.255.255.252
 undo shutdown
#
return

#################CE-2#########################
system-view
sysname CE-2
#
interface GE0/0/5
 description CE-2 <-> PE-2
 ip address 192.168.2.6 255.255.255.252
 undo shutdown
#
interface GE0/0/6
 description CE-2 <-> PE-1
 ip address 192.168.2.2 255.255.255.252
 undo shutdown
#
return

#################CE-3#########################
system-view
sysname CE-3
#
interface GE0/0/2
 description CE-3 <-> PE-3
 ip address 192.168.3.2 255.255.255.252
 undo shutdown
#
interface GE0/0/3
 description CE-3 <-> PE-4
 ip address 192.168.3.6 255.255.255.252
 undo shutdown
#
return

#################PE-1#########################
system-view
sysname PE-1
#
ip vpn-instance CUSTOMER_1
ipv4-family
route-distinguisher 100:1
vpn-target 111:1 both
#
ip vpn-instance CUSTOMER_2
ipv4-family
route-distinguisher 200:1
vpn-target 111:1 both
#
interface GigabitEthernet3/0/0
 description PE-1 <-> P-1
 ip address 172.10.1.1 255.255.255.252
 undo shutdown
#
interface GigabitEthernet3/0/2
 description PE-1 <-> P-2
 ip address 172.14.1.1 255.255.255.252
 undo shutdown
#
interface GigabitEthernet3/0/5
 description PE-1 <-> CE-1
 ip address 192.168.1.1 255.255.255.252
 undo shutdown
#
interface GigabitEthernet3/0/6
 description PE-1 <-> CE-2
 ip address 192.168.2.1 255.255.255.252
 undo shutdown
#
interface lo0
ip add 1.1.1.10 32
#
return


#################PE-2#########################
system-view
sysname PE-2
#
ip vpn-instance CUSTOMER_1
ipv4-family
route-distinguisher 100:1
vpn-target 111:1 both
#
ip vpn-instance CUSTOMER_2
ipv4-family
route-distinguisher 200:1
vpn-target 111:1 both
#
interface GigabitEthernet3/0/0
 description PE-2 <-> P-2
 ip address 172.25.1.1 255.255.255.252
 undo shutdown
#
interface GigabitEthernet3/0/2
 description PE-2 <-> P-1
 ip address 172.28.1.1 255.255.255.252
 undo shutdown
#
interface GigabitEthernet3/0/5
 description PE-2 <-> CE-2
 ip address 192.168.2.5 255.255.255.252
 undo shutdown
#
interface GigabitEthernet3/0/6
 description PE-2 <-> CE-1
 ip address 192.168.1.5 255.255.255.252
 undo shutdown
#
interface lo0
ip add 2.2.2.10 32
#
return


#################PE-3#########################
system-view
sysname PE-3
#
ip vpn-instance CUSTOMER_1
ipv4-family
route-distinguisher 300:1
vpn-target 111:1 both
#
interface GigabitEthernet3/0/2
 description PE-3 <-> CE-3
 ip address 192.168.3.1 255.255.255.252
 undo shutdown
#
interface GigabitEthernet3/0/5
 description PE-3 <-> P-4
 ip address 172.27.1.1 255.255.255.252
 undo shutdown
#
interface GigabitEthernet3/0/6
 description PE-3 <-> P-3
 ip address 172.7.1.1 255.255.255.252
 undo shutdown
#
interface lo0
ip add 3.3.3.10 32
#
return

#################PE-4#########################
system-view
sysname PE-4
#
ip vpn-instance CUSTOMER_3
ipv4-family
route-distinguisher 300:1
vpn-target 111:1 both
#
interface GigabitEthernet3/0/3
 description PE-4 <-> CE-3
 ip address 192.168.3.5 255.255.255.252
 undo shutdown
#
interface GigabitEthernet3/0/5
 description PE-4 <-> P-3
 ip address 172.24.1.1 255.255.255.252
 undo shutdown
#
interface GigabitEthernet3/0/6
 description PE-4 <-> P-4
 ip address 172.9.1.1 255.255.255.252
 undo shutdown
#
interface lo0
ip add 4.4.4.10 32
#
return

#################P-1#########################
system-view
sysname P-1
#
interface GigabitEthernet3/0/0
 description P-1 <-> PE-1
 ip address 172.10.1.2 255.255.255.252
 undo shutdown
#
interface GigabitEthernet3/0/1
 description P-1 <-> P-3
 ip address 172.18.1.2 255.255.255.252
 undo shutdown
#
interface GigabitEthernet3/0/2
 description P-1 <-> PE-2
 ip address 172.28.1.2 255.255.255.252
 undo shutdown
#
interface GigabitEthernet3/0/3
 description P-1 <-> P-4
 ip address 172.8.1.2 255.255.255.252
 undo shutdown
#
interface GigabitEthernet3/0/4
 description P-1 <-> P-2
 ip address 172.12.1.1 255.255.255.252
 undo shutdown
#
interface lo0
ip add 1.1.1.14 32
#
return

#################P-2#########################
system-view
sysname P-2
#
interface GigabitEthernet3/0/0
 description P-2 <-> PE-2
 ip address 172.25.1.2 255.255.255.252
 undo shutdown
#
interface GigabitEthernet3/0/1
 description P-2 <-> P-4
 ip address 172.5.1.2 255.255.255.252
 undo shutdown
#
interface GigabitEthernet3/0/2
 description P-2 <-> PE-1
 ip address 172.14.1.2 255.255.255.252
 undo shutdown
#
interface GigabitEthernet3/0/3
 description P-2 <-> P-3
 ip address 172.30.1.2 255.255.255.252
 undo shutdown
#
interface GigabitEthernet3/0/4
 description P-2 <-> P-1
 ip address 172.12.1.2 255.255.255.252
 undo shutdown
#
#
interface lo0
ip add 2.2.2.14 32
#
return

#################P-3#########################
system-view
sysname P-3
#
interface GigabitEthernet 3/0/0
 description P-3 <-> P-4
 ip address 172.15.1.1 255.255.255.252
 undo shutdown
#
interface GigabitEthernet 3/0/1
 description P-3 <-> P-1
 ip address 172.18.1.1 255.255.255.252
 undo shutdown
#
interface GigabitEthernet 3/0/3
 description P-3 <-> P-2
 ip address 172.30.1.1 255.255.255.252
 undo shutdown
#
interface GigabitEthernet 3/0/5
 description P-3 <-> PE-4
 ip address 172.24.1.2 255.255.255.252
 undo shutdown
#
interface GigabitEthernet 3/0/6
 description P-3 <-> PE-3
 ip address 172.7.1.2 255.255.255.252
 undo shutdown
#
interface lo0
ip add 3.3.3.14 32
#
return

#################P-4#########################
system-view
sysname P-4
#
interface GigabitEthernet 3/0/0
 description P-4 <-> P-3
 ip address 172.15.1.2 255.255.255.252
 undo shutdown
#
interface GigabitEthernet 3/0/1
 description P-4 <-> P-2
 ip address 172.5.1.1 255.255.255.252
 undo shutdown
#
interface GigabitEthernet 3/0/3
 description P-4 <-> P-1
 ip address 172.8.1.1 255.255.255.252
 undo shutdown
#
interface GigabitEthernet 3/0/5
 description P-4 <-> PE-3
 ip address 172.27.1.2 255.255.255.252
 undo shutdown
#
interface GigabitEthernet 3/0/6
 description P-4 <-> PE-4
 ip address 172.9.1.2 255.255.255.252
 undo shutdown
#
#
interface lo0
ip add 4.4.4.14 32
#
return



